<!DOCTYPE html>

<html>

<head>

    <meta charset='utf-8' />

    <title>Pillar App Site Map</title>

    <meta http-equiv='Cache-Control' content='no-cache, no-store, must-revalidate' />
    <meta http-equiv='Pragma' content='no-cache' />
    <meta http-equiv='Expires' content='0' />

    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />

    <link href='https://api.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.css' rel='stylesheet' />
    <link href='styles.css' rel='stylesheet' />

    <script src='https://api.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.js'></script>
    <script id="search-js" defer="" src="https://api.mapbox.com/search-js/v1.0.0-beta.20/web.js"></script>

</head>

<body>

    <div class="map-container">

        <div id='map'></div>

        <!-- legend for filtering -->
        <div class="map-overlay top">
            <div class="map-overlay-inner">

                <fieldset>
                    <label class="visible-layers-label">Visible Layers</label>
                </fieldset>
                <fieldset>
                    <input type="checkbox" id="OpsVision" checked="">
                    <label for="OpsVision">OpsVision</label>
                </fieldset>
                <fieldset>
                    <input type="checkbox" id="Reliance" checked="">
                    <label for="Reliance">Reliance</label>
                </fieldset>
                <fieldset>
                    <input type="checkbox" id="Maximo" checked="">
                    <label for="Maximo">Maximo</label>
                </fieldset>
                <fieldset>
                    <input type="checkbox" id="SCC" checked="">
                    <label for="SCC">SCC</label>
                </fieldset>
                <fieldset>
                    <input type="checkbox" id="All-Sites" checked="">
                    <label for="All-Sites">All Sites</label>
                </fieldset>
            </div>
        </div>

         <div id="menu">
            <input id="streets-v12" type="radio" name="rtoggle" value="streets" checked="checked">
            <label for="streets-v12">Streets</label>
            <input id="satellite-streets-v12" type="radio" name="rtoggle" value="satellite">
            <label for="satellite-streets-v12">Satellite</label>
            <input id="light-v11" type="radio" name="rtoggle" value="light">
            <label for="light-v11">Light</label>
            <input id="dark-v11" type="radio" name="rtoggle" value="dark">
            <label for="dark-v11">Dark</label>
        </div>
        
    </div>

    <script>
        const ACCESS_TOKEN = 'pk.eyJ1Ijoib2xpdmlhdDEwIiwiYSI6ImNsdXZ3aDYzcjA2bW0yaWwzZ3g2cXA2bWYifQ.YFXEBTfX3eiQrk5pm5qBVQ';

        mapboxgl.accessToken = ACCESS_TOKEN;

        const searchJS = document.getElementById('search-js');
        searchJS.onload = function () {
            const searchBox = new MapboxSearchBox();
            searchBox.accessToken = ACCESS_TOKEN;
            searchBox.options = {
                types: 'address,poi',
                proximity: [-73.99209, 40.68933]
            };

            //search box
            map.addControl(searchBox);

            // zoom and rotation controls
            map.addControl(new mapboxgl.NavigationControl());
        };
    </script>

    <script src='map.js'></script>

</body>

</html>
